<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Portal</title>
<style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    header, section { padding: 20px; max-width: 800px; margin: auto; }
    button { padding: 10px 20px; margin: 5px; cursor: pointer; }

    /* Prank overlays */
    #overlay, #falling, #finalMessage {
        position: fixed; top: 0; left: 0;
        width: 100%; height: 100%;
        display: none;
        z-index: 1000;
    }
    #overlay { background: rgba(0,0,0,0.9); color: #0f0; font-family: monospace; padding: 20px; overflow-y: auto; }
    #keyboard { font-size: 18px; white-space: pre-wrap; }
    #videoContainer { display: none; position: absolute; top: 20%; left: 50%; transform: translateX(-50%); }
    #hackerVideo { width: 80%; max-width: 400px; }
    #falling { background: black; color: #0f0; font-size: 18px; font-family: monospace; }
    #finalMessage { background: black; color: red; text-align: center; font-size: 24px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
    #finalMessage img { width: 80%; max-width: 300px; margin-top: 20px; }
</style>
</head>
<body>
    <!-- Student Page -->
    <header>
        <h1>Student Portal</h1>
        <p>Welcome! Check your grades, take notes, and explore study tips.</p>
        <button onclick="triggerPrank()">Check My Grades</button>
        <button onclick="triggerPrank()">Study Tips</button>
        <button onclick="triggerPrank()">Notes</button>
    </header>

    <!-- Prank Overlays -->
    <div id="overlay">
        <div id="keyboard"></div>
        <div id="videoContainer">
            <video id="hackerVideo" src="mixkit-hacker-with-a-digital-glitch-over-his-face-46627-hd-ready.mp4"></video>
        </div>
    </div>

    <canvas id="falling"></canvas>

    <div id="finalMessage">
        <h1>CONGRATULATIONS! YOU'VE BEEN HACKED!</h1>
        <img src="IMG_20250804_233522.jpg" alt="Prank Image">
    </div>

    <audio id="hackerAudio" src="whispered-hello-goodbye-german-english-31467.mp3"></audio>

<script>
let prankRunning = false;

// Trigger prank
function triggerPrank() {
    if (prankRunning) return;
    prankRunning = true;

    document.getElementById('overlay').style.display = 'block';
    simulateKeyboard();
}

// Simulate mobile keyboard typing
const textToType = "Connecting to secure server...\nBypassing firewall...\nInjecting payload...\nAccessing device...\n";
let charIndex = 0;
function simulateKeyboard() {
    const keyboardDiv = document.getElementById('keyboard');
    const interval = setInterval(() => {
        keyboardDiv.textContent += textToType[charIndex];
        charIndex++;
        if (charIndex >= textToType.length) {
            clearInterval(interval);
            showHackerVideo();
        }
    }, 50);
}

// Show hacker video and play audio in sync
function showHackerVideo() {
    const videoContainer = document.getElementById('videoContainer');
    videoContainer.style.display = 'block';
    const video = document.getElementById('hackerVideo');
    const audio = document.getElementById('hackerAudio');

    video.play();
    video.onplay = () => audio.play();

    video.onended = () => startFallingCode();
}

// Falling green letters
function startFallingCode() {
    document.getElementById('overlay').style.display = 'none';
    const canvas = document.getElementById('falling');
    canvas.style.display = 'block';
    const ctx = canvas.getContext('2d');

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    const fontSize = 16;
    const columns = canvas.width / fontSize;
    const drops = Array(Math.floor(columns)).fill(1);

    function draw() {
        ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#0f0";
        ctx.font = fontSize + "px monospace";

        for (let i = 0; i < drops.length; i++) {
            const text = letters[Math.floor(Math.random() * letters.length)];
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);

            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                drops[i] = 0;
            }
            drops[i]++;
        }
    }
    const matrixInterval = setInterval(draw, 33);

    setTimeout(() => {
        clearInterval(matrixInterval);
        canvas.style.display = 'none';
        showFinalMessage();
    }, 7000);
}

// Final message
function showFinalMessage() {
    const final = document.getElementById('finalMessage');
    final.style.display = 'flex';
    setTimeout(() => final.style.display = 'none', 4000);
}
</script>
</body>
</html>
